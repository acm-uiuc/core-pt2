{"version":3,"sources":["../../src/middlewares/attachUser.js"],"names":["req","res","next","decodedTokenData","tokenData","console","log","id","models","User","findOne","where","userRecord","currentUser","status","end"],"mappings":";;;;;;;AAAA;;;;;;;;;qEAEe,iBAAOA,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,YAAAA,gBADO,GACYH,GAAG,CAACI,SADhB;AAEbC,YAAAA,OAAO,CAACC,GAAR,CAAYH,gBAAgB,CAACI,EAA7B;AAFa;AAAA,mBAGYC,mBAAOC,IAAP,CAAYC,OAAZ,CAAoB;AAC3CC,cAAAA,KAAK,EAAE;AAAEJ,gBAAAA,EAAE,EAAEJ,gBAAgB,CAACI;AAAvB;AADoC,aAApB,CAHZ;;AAAA;AAGPK,YAAAA,UAHO;AAMbP,YAAAA,OAAO,CAACC,GAAR,CAAYM,UAAZ;AACAZ,YAAAA,GAAG,CAACa,WAAJ,GAAkBD,UAAlB;;AAPa,gBASRA,UATQ;AAAA;AAAA;AAAA;;AAAA,6CAUJX,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,CAAoB,gBAApB,CAVI;;AAAA;AAAA,6CAYJb,IAAI,EAZA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import models from '../models';\n\nexport default async (req, res, next) => {\n  const decodedTokenData = req.tokenData;\n  console.log(decodedTokenData.id);\n  const userRecord = await models.User.findOne({\n    where: { id: decodedTokenData.id },\n  });\n  console.log(userRecord);\n  req.currentUser = userRecord;\n\n  if (!userRecord) {\n    return res.status(401).end('User not found');\n  } else {\n    return next();\n  }\n};\n"],"file":"attachUser.js"}