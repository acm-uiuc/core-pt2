{"version":3,"file":"mailService.js","names":["mailService","sendSignEmail","redirect_uri","email","token","transporter","nodemailer","createTransport","service","auth","user","process","env","MAIL_USER","pass","MAIL_PASS","link","encodeURI","sendMail","from","to","subject","html"],"sources":["../../src/services/mailService.js"],"sourcesContent":["import nodemailer from 'nodemailer';\n\nconst mailService = {\n  sendSignEmail: async (redirect_uri, email, token) => {\n    const transporter = nodemailer.createTransport({\n      service: 'gmail',\n      auth: {\n        user: process.env.MAIL_USER,\n        pass: process.env.MAIL_PASS,\n      },\n    });\n    const link = encodeURI(`${redirect_uri}?token=${token}`);\n\n    await transporter.sendMail({\n      from: process.env.MAIL_USER,\n      to: email,\n      subject: 'Verify your UIUC email',\n      html:\n        `Hello! <br /> Someone (hopefully you!) attempted to sign in using the ACM authentication library. If this was you, click the link below to verify your account. Otherwise, please ignore this email. <br /> \n        <a href=\"${link}\">${link}</a>`,\n    });\n  },\n}\n\nexport default mailService;"],"mappings":";;;;;;;AAAA;AAAoC;AAAA,+CACpC;AAAA;AAAA;AACA,IAAMA,WAAW,GAAG;EAClBC,aAAa;IAAA,gFAAE,iBAAOC,YAAY,EAAEC,KAAK,EAAEC,KAAK;MAAA;MAAA;QAAA;UAAA;YAAA;cACxCC,WAAW,GAAGC,sBAAU,CAACC,eAAe,CAAC;gBAC7CC,OAAO,EAAE,OAAO;gBAChBC,IAAI,EAAE;kBACJC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,SAAS;kBAC3BC,IAAI,EAAEH,OAAO,CAACC,GAAG,CAACG;gBACpB;cACF,CAAC,CAAC;cACIC,IAAI,GAAGC,SAAS,WAAIf,YAAY,oBAAUE,KAAK,EAAG;cAAA;cAAA,OAElDC,WAAW,CAACa,QAAQ,CAAC;gBACzBC,IAAI,EAAER,OAAO,CAACC,GAAG,CAACC,SAAS;gBAC3BO,EAAE,EAAEjB,KAAK;gBACTkB,OAAO,EAAE,wBAAwB;gBACjCC,IAAI,4OAESN,IAAI,gBAAKA,IAAI;cAC5B,CAAC,CAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CACH;IAAA;MAAA;IAAA;IAAA;EAAA;AACH,CAAC;AAAA,eAEchB,WAAW;AAAA"}